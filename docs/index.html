<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grimspire - Gestionnaire de Cit√© Aventuri√®re</title>
    <!-- CSS Modulaire -->
    <link rel="stylesheet" href="css/modules/reset.css">
    <link rel="stylesheet" href="css/modules/layout.css">
    <link rel="stylesheet" href="css/modules/menu.css">
    <link rel="stylesheet" href="css/modules/buildings.css">
    <link rel="stylesheet" href="css/modules/guild.css">
    <link rel="stylesheet" href="css/modules/adventurers.css">
    <link rel="stylesheet" href="css/modules/missions.css">
    <link rel="stylesheet" href="css/modules/modal.css">
    <link rel="stylesheet" href="css/modules/scrollbar.css">
    <link rel="stylesheet" href="css/modules/responsive.css">
    <link rel="stylesheet" href="css/modules/administration.css">
    <link rel="stylesheet" href="css/modules/commerce.css">
    <link rel="stylesheet" href="css/modules/industrie.css">
</head>
<body>
    <div id="app">
        <!-- Menu Principal -->
        <div id="main-menu" class="screen active">
            <div class="menu-container">
                <h1 class="game-title">GRIMSPIRE</h1>
                <p class="game-subtitle">Gestionnaire de Cit√© Aventuri√®re</p>
                
                <div class="menu-buttons">
                    <button id="new-game-btn" class="menu-button primary">
                        Nouvelle Partie
                    </button>
                    <button id="load-game-btn" class="menu-button" disabled>
                        Charger Partie
                    </button>
                    <button id="settings-btn" class="menu-button" disabled>
                        Options
                    </button>
                    <button id="quit-btn" class="menu-button" disabled>
                        Quitter
                    </button>
                </div>
                
                <div class="version-info">
                    Version 0.8.0 - Phase 8
                </div>
            </div>
        </div>

        <!-- √âcran de jeu -->
        <div id="game-screen" class="screen">
            <!-- En-t√™te du jeu -->
            <div class="game-header">
                <div class="city-info">
                    <h2 id="city-name">Grimspire</h2>
                    <div class="time-info">
                        <span id="day-counter">Jour 1</span>
                        <span id="game-clock">00:00</span>
                    </div>
                </div>
                
                <div class="resources-panel">
                    <div class="resource">
                        <span class="resource-icon">üí∞</span>
                        <div class="resource-info">
                            <span id="gold-amount">10000</span>
                            <span id="gold-daily-gain" class="daily-gain">+0/jour</span>
                        </div>
                    </div>
                    <div class="resource">
                        <span class="resource-icon">üë•</span>
                        <div class="resource-info">
                            <span id="population-amount">0</span>
                            <span id="population-daily-gain" class="daily-gain">+0/jour</span>
                        </div>
                    </div>
                    <div class="resource">
                        <span class="resource-icon">üî®</span>
                        <div class="resource-info">
                            <span id="materials-amount">2000</span>
                            <span id="materials-daily-gain" class="daily-gain">+0/jour</span>
                        </div>
                    </div>
                    <div class="resource">
                        <span class="resource-icon">‚ú®</span>
                        <div class="resource-info">
                            <span id="magic-amount">0</span>
                            <span id="magic-daily-gain" class="daily-gain">+0/jour</span>
                        </div>
                    </div>
                    <div class="resource">
                        <span class="resource-icon">‚≠ê</span>
                        <div class="resource-info">
                            <span id="reputation-amount">0</span>
                            <span id="reputation-daily-gain" class="daily-gain">+0/jour</span>
                        </div>
                    </div>
                </div>
                
                <div class="game-controls">
                    <button id="pause-game-btn" class="control-btn">‚è∏Ô∏è Pause</button>
                    <button id="save-game-btn" class="control-btn">Sauvegarder</button>
                    <button id="return-menu-btn" class="control-btn">Menu</button>
                </div>
            </div>
            
            <!-- Navigation par onglets -->
            <div class="tabs-navigation">
                <button class="tab-btn active" data-tab="batiments">B√¢timents</button>
                <button class="tab-btn" data-tab="commerce">Commerce</button>
                <button class="tab-btn" data-tab="industrie">Industrie</button>
                <button class="tab-btn" data-tab="administration" style="opacity: 0.5; cursor: not-allowed;" disabled>Administration</button>
                <button class="tab-btn" data-tab="guilde" style="opacity: 0.5; cursor: not-allowed;" disabled>Guilde</button>
                <button class="tab-btn" data-tab="expedition" style="opacity: 0.5; cursor: not-allowed;" disabled>Exp√©ditions</button>
            </div>
            
            <!-- Contenu des onglets -->
            <div class="tab-content">
                <!-- Onglet B√¢timents -->
                <div id="tab-batiments" class="tab-panel active">
                    <div class="buildings-container">
                        <!-- Sidebar gauche avec stats et contr√¥les -->
                        <div class="buildings-sidebar">
                            <div class="sidebar-header">
                                <h3>B√¢timents</h3>
                                <p>Construisez et g√©rez votre cit√©</p>
                            </div>
                            
                            <!-- Statistiques des b√¢timents -->
                            <div class="building-stats-sidebar">
                                <h4>üìà Statistiques</h4>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Construits</span>
                                    <span id="buildings-total-count" class="stat-value">0</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Niveau moyen</span>
                                    <span id="buildings-avg-level" class="stat-value">0</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Types disponibles</span>
                                    <span id="building-types-available" class="stat-value">0</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Types verrouill√©s</span>
                                    <span id="building-types-locked" class="stat-value">0</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Zone principale avec les deux colonnes -->
                        <div class="buildings-main">
                            <div class="buildings-layout">
                                <!-- Colonne de gauche : B√¢timents construits -->
                                <div class="buildings-constructed">
                                    <div class="column-header">
                                        <h4 class="column-title">üèóÔ∏è B√¢timents Construits</h4>
                                        <span class="section-count" id="constructed-count">0 b√¢timent</span>
                                    </div>
                                    
                                    <div class="buildings-section">
                                        <div id="constructed-buildings" class="buildings-grid">
                                            <!-- Les b√¢timents construits seront ajout√©s dynamiquement -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Colonne de droite : Types de b√¢timents disponibles -->
                                <div class="buildings-available">
                                    <div class="column-header">
                                        <h4 class="column-title">üè† Types Disponibles</h4>
                                        <div class="building-controls">
                                            <span id="available-info" class="search-info">S√©lectionnez un type pour construire</span>
                                        </div>
                                    </div>
                                    
                                    <div class="buildings-section">
                                        <div id="available-building-types" class="building-types-grid">
                                            <!-- Les types de b√¢timents disponibles seront ajout√©s dynamiquement -->
                                        </div>
                                    </div>
                                    
                                    <!-- Section des types verrouill√©s -->
                                    <div class="buildings-section locked-section">
                                        <div class="section-header">
                                            <h5>Types Verrouill√©s</h5>
                                            <span class="section-count" id="locked-types-count">Am√©liorations requises</span>
                                        </div>
                                        <div id="locked-building-types" class="building-types-grid locked">
                                            <!-- Les types verrouill√©s seront ajout√©s dynamiquement -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Modal de construction de b√¢timent -->
                <div id="building-construction-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="modal-building-type-name">Construire un B√¢timent</h3>
                            <button id="close-construction-modal-btn" class="close-btn">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="building-type-info">
                                <div class="building-type-icon" id="modal-building-icon">üè†</div>
                                <div class="building-type-details">
                                    <h4 id="modal-building-name">Type de B√¢timent</h4>
                                    <p id="modal-building-description">Description du b√¢timent</p>
                                </div>
                            </div>
                            
                            <div class="construction-form">
                                <div class="form-group">
                                    <label for="building-custom-name">Nom du b√¢timent (optionnel) :</label>
                                    <input type="text" id="building-custom-name" maxlength="30" placeholder="Laissez vide pour un nom automatique...">
                                    <small>Maximum 30 caract√®res - Un nom sera g√©n√©r√© automatiquement si vide</small>
                                </div>
                                
                                <div class="construction-cost">
                                    <h5>Co√ªt de construction :</h5>
                                    <div id="modal-construction-cost" class="cost-list">
                                        <!-- Co√ªt sera ajout√© dynamiquement -->
                                    </div>
                                </div>
                                
                                <div class="building-effects">
                                    <h5>Effets (Niveau 1) :</h5>
                                    <div id="modal-building-effects" class="effects-list">
                                        <!-- Effets seront ajout√©s dynamiquement -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button id="cancel-construction-btn" class="modal-btn secondary">Annuler</button>
                            <button id="confirm-construction-btn" class="modal-btn primary">Construire</button>
                        </div>
                    </div>
                </div>
                
                <!-- Onglet Commerce -->
                <div id="tab-commerce" class="tab-panel">
                    <div class="commerce-container">
                        <!-- Sidebar gauche avec menu vertical -->
                        <div class="commerce-sidebar">
                            <div class="sidebar-header">
                                <h3>Commerce</h3>
                                <p>√âconomie et n√©goce</p>
                            </div>
                            
                            <!-- Menu vertical -->
                            <div class="commerce-menu">
                                <button class="commerce-menu-btn active" data-commerce-tab="marche" disabled>
                                    üîí March√©
                                </button>
                                <button class="commerce-menu-btn" data-commerce-tab="artisans" disabled>
                                    üîí Artisans
                                </button>
                                <button class="commerce-menu-btn" data-commerce-tab="banque" disabled>
                                    üîí Banque
                                </button>
                            </div>
                        </div>
                        
                        <!-- Zone principale avec contenu -->
                        <div class="commerce-main">
                            <!-- Onglet March√© -->
                            <div id="commerce-marche" class="commerce-content active">
                                <div class="commerce-content-header">
                                    <h4>March√©</h4>
                                    <p>Centre du n√©goce et des √©changes</p>
                                </div>
                                <div class="locked-message">
                                    <p>üîí Construisez un march√© pour d√©bloquer cette section</p>
                                </div>
                            </div>
                            
                            <!-- Onglet Artisans -->
                            <div id="commerce-artisans" class="commerce-content">
                                <div class="commerce-content-header">
                                    <h4>Artisans</h4>
                                    <p>Production de biens artisanaux</p>
                                </div>
                                <div class="locked-message">
                                    <p>üîí Construisez une √©choppe d'artisan pour d√©bloquer cette section</p>
                                </div>
                            </div>
                            
                            <!-- Onglet Banque -->
                            <div id="commerce-banque" class="commerce-content">
                                <div class="commerce-content-header">
                                    <h4>Banque</h4>
                                    <p>Services financiers et investissements</p>
                                </div>
                                <div class="locked-message">
                                    <p>üîí Construisez une banque pour d√©bloquer cette section</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Onglet Industrie -->
                <div id="tab-industrie" class="tab-panel">
                    <div class="industrie-container">
                        <!-- Sidebar gauche avec menu vertical -->
                        <div class="industrie-sidebar">
                            <div class="sidebar-header">
                                <h3>Industrie</h3>
                                <p>Production et artisanat</p>
                            </div>
                            
                            <!-- Menu vertical -->
                            <div class="industrie-menu">
                                <button class="industrie-menu-btn active" data-industrie-tab="forge" disabled>
                                    üîí Forge
                                </button>
                                <button class="industrie-menu-btn" data-industrie-tab="alchimistes" disabled>
                                    üîí Alchimistes
                                </button>
                                <button class="industrie-menu-btn" data-industrie-tab="enchanteurs" disabled>
                                    üîí Enchanteurs
                                </button>
                            </div>
                        </div>
                        
                        <!-- Zone principale avec contenu -->
                        <div class="industrie-main">
                            <!-- Onglet Forge -->
                            <div id="industrie-forge" class="industrie-content active">
                                <div class="industrie-content-header">
                                    <h4>Forge</h4>
                                    <p>Production d'√©quipements et d'outils</p>
                                </div>
                                <div class="locked-message">
                                    <p>üîí Construisez une forge pour d√©bloquer cette section</p>
                                </div>
                            </div>
                            
                            <!-- Onglet Alchimistes -->
                            <div id="industrie-alchimistes" class="industrie-content">
                                <div class="industrie-content-header">
                                    <h4>Alchimistes</h4>
                                    <p>Production de substances magiques</p>
                                </div>
                                <div class="locked-message">
                                    <p>üîí Construisez un alchimiste pour d√©bloquer cette section</p>
                                </div>
                            </div>
                            
                            <!-- Onglet Enchanteurs -->
                            <div id="industrie-enchanteurs" class="industrie-content">
                                <div class="industrie-content-header">
                                    <h4>Enchanteurs</h4>
                                    <p>Am√©lioration des √©quipements</p>
                                </div>
                                <div class="locked-message">
                                    <p>üîí Construisez un enchanteur pour d√©bloquer cette section</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="tab-administration" class="tab-panel">
                    <div class="administration-container">
                        <!-- Sidebar gauche avec menu vertical -->
                        <div class="admin-sidebar">
                            <div class="sidebar-header">
                                <h3>Administration</h3>
                                <p>Gestion de votre cit√©</p>
                            </div>
                            
                            <!-- Menu vertical -->
                            <div class="admin-menu">
                                <button class="admin-menu-btn active" data-admin-tab="upgrades">
                                    üèóÔ∏è Am√©liorations de la ville
                                </button>
                                <button class="admin-menu-btn" data-admin-tab="tbd1" disabled>
                                    üîí TBD 1
                                </button>
                                <button class="admin-menu-btn" data-admin-tab="tbd2" disabled>
                                    üîí TBD 2
                                </button>
                            </div>
                        </div>
                        
                        <!-- Zone principale avec contenu -->
                        <div class="admin-main">
                            <!-- Onglet Am√©liorations de la ville -->
                            <div id="admin-upgrades" class="admin-content active">
                                <div class="admin-content-header">
                                    <h4>Am√©liorations de la Ville</h4>
                                    <p>D√©bloquez de nouveaux b√¢timents et fonctionnalit√©s pour votre cit√©</p>
                                </div>
                                
                                <div id="city-upgrades-list" class="upgrades-grid">
                                    <!-- Les am√©liorations seront ajout√©es dynamiquement -->
                                </div>
                            </div>
                            
                            <!-- Onglets TBD (pour plus tard) -->
                            <div id="admin-tbd1" class="admin-content">
                                <div class="admin-content-header">
                                    <h4>TBD 1</h4>
                                    <p>Fonctionnalit√© √† venir</p>
                                </div>
                            </div>
                            
                            <div id="admin-tbd2" class="admin-content">
                                <div class="admin-content-header">
                                    <h4>TBD 2</h4>
                                    <p>Fonctionnalit√© √† venir</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="tab-guilde" class="tab-panel">
                    <div class="guild-container">
                        <!-- Sidebar gauche avec stats et contr√¥les -->
                        <div class="guild-sidebar">
                            <div class="sidebar-header">
                                <h3>Guilde des Aventuriers</h3>
                                <p>Recrutez et g√©rez votre √©quipe</p>
                            </div>
                            
                            <!-- Statistiques de la guilde -->
                            <div class="guild-stats-sidebar">
                                <h4>üìä Statistiques</h4>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Recrut√©s</span>
                                    <span id="guild-total-count" class="stat-value">0</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Disponibles</span>
                                    <span id="guild-available-count" class="stat-value">0</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">En mission</span>
                                    <span id="guild-mission-count" class="stat-value">0</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Niveau moyen</span>
                                    <span id="guild-avg-level" class="stat-value">0</span>
                                </div>
                            </div>
                            
                        </div>
                        
                        <!-- Zone principale avec les deux colonnes -->
                        <div class="guild-main">
                            <div class="guild-layout">
                                <!-- Colonne de gauche : Aventuriers recrut√©s -->
                                <div class="guild-recruited">
                                    <div class="column-header">
                                        <h4 class="column-title">üë• Aventuriers Recrut√©s</h4>
                                        <span class="section-count" id="recruited-count">0 aventurier</span>
                                    </div>
                                    
                                    <div class="guild-section">
                                        <div id="recruited-adventurers" class="adventurers-grid">
                                            <!-- Les aventuriers recrut√©s seront ajout√©s dynamiquement -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Colonne de droite : Aventuriers disponibles au recrutement -->
                                <div class="guild-available">
                                    <div class="column-header">
                                        <h4 class="column-title">üíº Candidats Disponibles</h4>
                                        <div class="recruitment-controls">
                                            <button id="search-adventurers-btn" class="action-btn primary">
                                                üîç Rechercher
                                            </button>
                                            <span id="search-info" class="search-info">Co√ªt: 50üí∞</span>
                                        </div>
                                    </div>
                                    
                                    <div class="guild-section">
                                        <div id="available-adventurers" class="adventurers-grid">
                                            <!-- Les aventuriers disponibles au recrutement seront ajout√©s dynamiquement -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="tab-expedition" class="tab-panel">
                    <div class="expedition-container">
                        <!-- Sidebar gauche avec stats et contr√¥les -->
                        <div class="expedition-sidebar">
                            <div class="sidebar-header">
                                <h3>Exp√©ditions</h3>
                                <p>G√©rez vos missions d'aventuriers</p>
                            </div>
                            
                            <!-- Statistiques des missions -->
                            <div class="mission-stats-sidebar">
                                <h4>üìä Statistiques</h4>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Actives</span>
                                    <span id="mission-active-count" class="stat-value">0</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">R√©ussies</span>
                                    <span id="mission-success-count" class="stat-value">0</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Taux de r√©ussite</span>
                                    <span id="mission-success-rate" class="stat-value">0%</span>
                                </div>
                                <div class="stat-card-compact">
                                    <span class="stat-label">Disponibles</span>
                                    <span id="mission-available-count" class="stat-value">5</span>
                                </div>
                            </div>
                            
                        </div>
                        
                        <!-- Zone principale avec les deux colonnes -->
                        <div class="expedition-main">
                            <div class="expedition-layout">
                                <!-- Colonne de gauche : Suivi des exp√©ditions -->
                                <div class="expedition-tracking">
                                    <!-- Section Missions en Cours -->
                                    <div class="mission-section">
                                        <div class="section-header">
                                            <h5>Missions en Cours</h5>
                                            <span class="section-count" id="active-missions-count">0 mission(s)</span>
                                        </div>
                                        <div id="active-missions" class="missions-grid">
                                            <!-- Les missions actives seront ajout√©es dynamiquement -->
                                        </div>
                                    </div>
                                    
                                    <!-- Section Missions Termin√©es -->
                                    <div class="mission-section">
                                        <div class="section-header">
                                            <h5>Missions R√©centes</h5>
                                            <span class="section-count" id="completed-missions-count">Historique</span>
                                        </div>
                                        <div id="completed-missions" class="missions-grid completed">
                                            <!-- Les missions termin√©es seront ajout√©es dynamiquement -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Colonne de droite : Missions disponibles -->
                                <div class="expedition-available">
                                    <div class="column-header">
                                        <h4 class="column-title">üó∫Ô∏è Missions Disponibles</h4>
                                        <div class="mission-controls">
                                            <button id="refresh-missions-btn" class="action-btn primary">
                                                üîÑ Actualiser
                                            </button>
                                            <span id="refresh-info" class="search-info">Co√ªt: 100üí∞</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Section Missions Disponibles -->
                                    <div class="mission-section">
                                        <div id="available-missions" class="missions-grid">
                                            <!-- Les missions disponibles seront ajout√©es dynamiquement -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Modal de s√©lection d'aventuriers -->
                <div id="adventurer-selection-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="modal-mission-name">S√©lection d'Aventuriers</h3>
                            <button id="close-modal-btn" class="close-btn">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="mission-requirements">
                                <p id="modal-mission-description">Description de la mission</p>
                                <div class="requirements-info">
                                    <span>Aventuriers requis: </span>
                                    <span id="modal-party-size">1-3</span>
                                    <span class="difficulty-display">
                                        Difficult√©: <span id="modal-difficulty">‚≠ê‚≠ê‚≠ê</span>
                                    </span>
                                </div>
                            </div>
                            
                            <div class="adventurer-selection">
                                <h4>Aventuriers Disponibles:</h4>
                                <div id="modal-adventurers-list" class="modal-adventurers-grid">
                                    <!-- Liste des aventuriers disponibles -->
                                </div>
                            </div>
                            
                            <div class="selected-adventurers">
                                <h4>√âquipe S√©lectionn√©e: <span id="selected-count">0</span></h4>
                                <div id="selected-adventurers-list" class="selected-list">
                                    <!-- Aventuriers s√©lectionn√©s -->
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button id="cancel-mission-btn" class="modal-btn secondary">Annuler</button>
                            <button id="start-mission-btn" class="modal-btn primary">Lancer la Mission</button>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/classes/Resource.js"></script>
    <script src="js/classes/BuildingType.js"></script>
    <script src="js/classes/Building.js"></script>
    <script src="js/classes/Adventurer.js"></script>
    <script src="js/classes/City.js"></script>
    <script src="js/classes/Mission.js"></script>
    <script src="js/classes/CityUpgrade.js"></script>
    <script src="js/classes/GameManager.js"></script>
    <script src="js/systems/BuildingManager.js"></script>
    <script src="js/systems/AdventurerManager.js"></script>
    <script src="js/systems/MissionManager.js"></script>
    <script src="js/systems/CityUpgradeManager.js"></script>
    <script src="js/main.js"></script>
</body>
</html>